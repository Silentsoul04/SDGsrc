$NetBSD: patch-au,v 1.2 2008/08/31 06:36:48 scottr Exp $

--- lib/include/su.h.orig	2015-06-17 16:14:30.000000000 +0000
+++ lib/include/su.h
@@ -50,7 +50,7 @@ Bool Id_AuthCheck(char const *right,
                   char const *localizedDescription,
                   Bool showDialogIfNeeded);
 
-#elif (defined(__linux__) || defined(sun) || defined(__FreeBSD__))
+#elif (defined(__linux__) || defined(sun) || defined(__FreeBSD__) || defined(__NetBSD__))
 
 #include <sys/types.h>
 #include <unistd.h>
@@ -86,7 +86,11 @@ int Id_SetRESGid(gid_t rgid, gid_t egid,
 static INLINE int
 Id_SetEUid(uid_t euid)
 {
+#if defined(__NetBSD__)
+   return seteuid(euid);
+#else
    return Id_SetRESUid((uid_t)-1, euid, (uid_t)-1);
+#endif
 }
 
 
@@ -110,7 +114,11 @@ Id_SetEUid(uid_t euid)
 static INLINE int
 Id_SetEGid(gid_t egid)
 {
+#if defined(__NetBSD__)
+   return setegid(egid);
+#else
    return Id_SetRESGid((gid_t)-1, egid, (gid_t)-1);
+#endif
 }
 #endif /* linux */
 
