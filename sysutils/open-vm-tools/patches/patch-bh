$NetBSD: patch-bh,v 1.1 2008/08/31 06:36:48 scottr Exp $

--- lib/system/systemLinux.c.orig	2015-06-17 16:14:30.000000000 +0000
+++ lib/system/systemLinux.c
@@ -26,7 +26,7 @@
  *
  */
 
-#if !defined(__linux__) && !defined(__FreeBSD__) && !defined(sun) && !defined(__APPLE__)
+#if !defined(__linux__) && !defined(__FreeBSD__) && !defined(sun) && !defined(__APPLE__) && !defined(__NetBSD__)
 #   error This file should not be compiled
 #endif
 
@@ -55,11 +55,11 @@
 #include <net/if.h>
 #include <sys/ioctl.h>
 
-#if defined sun || defined __APPLE__
+#if defined sun || defined __APPLE__ || defined __NetBSD__
 #   include <utmpx.h>
 #endif
 
-#ifdef __FreeBSD__
+#if defined(__FreeBSD__) || defined(__NetBSD__)
 #include "ifaddrs.h"
 #endif
 
@@ -220,7 +220,7 @@ System_Uptime(void)
          fclose(procStream);
       }
    }
-#elif defined sun || defined __APPLE__
+#elif defined sun || defined __APPLE__ || defined __NetBSD__
    {
       struct utmpx *boot, tmp;
 
@@ -366,7 +366,7 @@ System_Shutdown(Bool reboot)  // IN: "re
       cmd = "/sbin/shutdown -r now";
 #endif
    } else {
-#if __FreeBSD__
+#if defined(__FreeBSD__) || defined(__NetBSD__)
       cmd = "/sbin/shutdown -p now";
 #elif defined(sun)
       cmd = "/usr/sbin/shutdown -g 0 -i 5 -y";
